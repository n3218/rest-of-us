(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{215:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),l=a(14),c=a(2),n=a(6),r=a(18),m=a(3),u=a.n(m),d=a(15),i=a(105),p=a.n(i),f=a(23),E=a(12),b=a(11);t.default=Object(c.h)(e=>{const t=Object(s.useContext)(E.a),a=Object(s.useContext)(b.a),{id:m}=Object(c.g)(),[i,h]=Object(s.useState)(!0),[w,y]=Object(s.useState)();if(Object(s.useEffect)(()=>{const e=u.a.CancelToken.source();return(async()=>{try{const t=await u.a.get("/post/"+m,{cancelToken:e.token});y(t.data),h(!1)}catch(e){console.log(e.response.data),console.log("...Or request was cancelled")}})(),()=>{e.cancel("Operation cancelled")}},[m]),!i&&!w)return o.a.createElement(f.a,null);if(i)return o.a.createElement(l.a,{title:"..."},o.a.createElement(d.a,null));return o.a.createElement(l.a,{title:w.title},!!t.loggedIn&&t.user.username===w.author.username&&o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement("span",null,o.a.createElement(n.b,{"data-for":"edit","data-tip":"Edit Post",to:`/post/${m}/edit`,className:"text-dark mr-3"},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement(r.a,{place:"bottom",id:"edit",className:"custom-tooltip"}),o.a.createElement("a",{"data-for":"delete","data-tip":"Delete Post",onClick:async()=>{if(window.confirm("Do you really want to delete this post?"))try{"Success"==(await u.a.delete("/post/"+m,{data:{token:t.user.token}})).data&&(a({type:"flashMessage",value:"Your post was successfully deleted."}),e.history.push("/profile/"+t.user.username))}catch(e){console.log(e.response.data)}},to:`/post/${m}/delete`,className:"delete-post-button text-danger"},o.a.createElement("i",{className:"fas fa-trash"})),o.a.createElement(r.a,{place:"bottom",id:"delete",className:"custom-tooltip"}))),o.a.createElement("div",{className:"text-muted small mb-4 mt-4"},o.a.createElement(n.b,{"data-for":"profile","data-tip":w.author.username+" Profile",to:"/profile/"+w.author.username},o.a.createElement("img",{className:"avatar-small mr-3",src:w.author.avatar,alt:w.author.username})),o.a.createElement(r.a,{place:"bottom",id:"profile",className:"custom-tooltip"}),"Posted by ",o.a.createElement(n.b,{to:"/profile/"+w.author.username},w.author.username)," on ",new Date(w.createdDate).toLocaleString()),o.a.createElement("div",{className:"body-content"},o.a.createElement(p.a,{source:w.body})))})}}]);